<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>

    {{ partial "head.html" . }}

    {{ block "head" . }}{{ end }}
</head>

<body class="flex flex-col min-h-screen bg-background text-foreground dark:bg-background-dark dark:text-foreground-dark 
             transition-colors">
    <!-- 加载动画 -->
    <div id="loading-screen"
        class="fixed inset-0 z-[100] bg-background flex items-center justify-center transition-opacity duration-500">
        <div class="flex flex-col items-center gap-4">
            <div class="relative w-12 h-12">
                <div class="absolute inset-0 border-t-2 border-primary/20 rounded-full"></div>
                <div class="absolute inset-0 border-t-2 border-primary rounded-full animate-spin"></div>
            </div>
            <div class="flex items-center gap-2">
                <div class="w-1.5 h-1.5 rounded-full bg-primary/80 animate-bounce-delay-1"></div>
                <div class="w-1.5 h-1.5 rounded-full bg-primary/80 animate-bounce-delay-2"></div>
                <div class="w-1.5 h-1.5 rounded-full bg-primary/80 animate-bounce-delay-3"></div>
            </div>
            <div class="text-sm text-muted-foreground/70 animate-pulse">
                别着急，坐和放宽
            </div>
        </div>
    </div>

    <!-- 主要内容区域 -->
    <div class="flex flex-col flex-grow">
        {{ partial "nav" . }}
        <main class="flex-grow">
            {{ block "main" . }}{{ end }}
        </main>
    </div>

    <!-- 页脚 -->
    {{ partial "footer.html" . }}

    {{ with resources.Get "js/components/loading.js" }}
        <script>{{ .Content | safeJS }}</script>
    {{ end }}
</body>

</html>