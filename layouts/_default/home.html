{{ define "main" }}
<!-- 公告通知 -->
{{ partial "components/home/announcement.html" . }}

<section class="h-screen flex items-center">
    <div class="container max-w-6xl mx-auto px-4">
        <main class="flex flex-col-reverse lg:flex-row items-center lg:justify-between gap-12 lg:gap-24">
            <div class="w-full lg:flex-1 lg:max-w-xl space-y-6 text-center lg:text-left">
                <h2 class="text-2xl lg:text-4xl font-bold">
                    <span class="inline-flex overflow-hidden">
                        {{/* 这里只好先硬编码了，没找到好的配置方式 */}}
                        <span class="animate-text-reveal" style="--index: 0">H</span>
                        <span class="animate-text-reveal" style="--index: 1">i</span>
                        <span class="animate-text-reveal" style="--index: 2">,</span>
                        <span class="animate-text-reveal" style="--index: 3">&nbsp;</span>
                        <span class="animate-text-reveal" style="--index: 4">I</span>
                        <span class="animate-text-reveal" style="--index: 5">'</span>
                        <span class="animate-text-reveal" style="--index: 6">m</span>
                        <span class="animate-text-reveal" style="--index: 7">&nbsp;</span>

                        <!-- 作者名字 -->
                        {{ $author := .Site.Params.Author.name }}
                        {{ $nameChars := split $author "" }}
                        {{ range $index, $char := $nameChars }}
                        <span class="animate-text-reveal" style="--index: {{ add 8 $index }}">{{ $char }}</span>
                        {{ end }}

                        <span class="animate-text-reveal" style="--index: {{ add 8 (len $nameChars) }}">&nbsp;</span>
                        <span class="animate-text-reveal" style="--index: {{ add 9 (len $nameChars) }}">👋</span>
                    </span>
                </h2>
                <div class="flex flex-wrap justify-center lg:justify-start gap-2">
                    {{ range $index, $tag := .Site.Params.Author.tags }}
                    <span class="px-3 py-1 rounded-full bg-accent/50 dark:bg-accent-dark/50 
                        text-sm text-muted-foreground/80 dark:text-muted-foreground-dark/80
                        animate-fade-up opacity-0" style="animation-delay: {{ add 0.5 (mul $index 0.1) }}s">
                        {{ $tag }}
                    </span>
                    {{ end }}
                </div>
                {{ with .Site.Params.Author.bio }}
                <p class="text-base lg:text-lg text-muted-foreground/70 animate-fade-up opacity-0"
                    style="animation-delay: 0.8s">
                    {{ . }}
                </p>
                {{ end }}


                {{ partial "components/home/social.html" . }}
            </div>

            <div class="w-48 h-48 lg:w-64 lg:h-64 rounded-full overflow-hidden flex-shrink-0 border-2 border-background shadow-xl animate-fade-left opacity-0"
                style="animation-delay: 0.6s; animation-fill-mode: forwards;">
                <img src="{{ .Site.Params.Author.avatar }}" alt="avatar" class="object-cover rounded-full" width="256" height="256"
                    loading="lazy">
            </div>
        </main>
    </div>
</section>

{{ partial "components/home/recent-posts.html" . }}

{{ end }}