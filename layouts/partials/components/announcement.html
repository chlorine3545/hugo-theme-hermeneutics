{{ $announcement := .Site.GetPage "announcement" }}
{{ with $announcement }}
<div id="announcement" class="fixed top-20 right-4 w-80 p-4 rounded-lg border border-border/40 dark:border-border-dark/40 
    bg-card/95 dark:bg-card-dark/95 backdrop-blur
    shadow-lg shadow-accent/5 z-50 transform translate-x-[120%] transition-transform duration-500
    animate-fade opacity-0">
    <div class="flex items-start justify-between gap-3">
        <div class="flex items-center gap-2 text-sm font-medium mb-1">
            <div class="i-carbon-notification w-4 h-4 text-primary/80"></div>
            <span>公告</span>
        </div>
        <button onclick="closeAnnouncement()" class="text-muted-foreground/60 dark:text-muted-foreground-dark/80 
            hover:text-muted-foreground/90 dark:hover:text-muted-foreground-dark/95 
            transition-colors duration-200">
            <div class="i-carbon-close w-4 h-4"></div>
        </button>
    </div>
    <div class="text-sm text-muted-foreground/70 prose-sm prose-p:my-0">
        {{ .Content }}
    </div>
</div>

{{ $js := resources.Get "js/components/announcement.js" }}
<script>{{ $js.Content | safeJS }}</script>
{{ end }}