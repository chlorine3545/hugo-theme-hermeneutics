<section class="relative -mt-24 pb-24">
    <!-- 渐变背景 -->
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-accent/5 to-accent/10 
        dark:from-transparent dark:via-accent-dark/5 dark:to-accent-dark/10 pointer-events-none"></div>

    <div class="container relative max-w-6xl mx-auto px-4">
        <!-- 标题区域 -->
        <div class="flex items-center justify-between mb-12 animate-fade-up opacity-0"
            style="animation-delay: 1s; animation-fill-mode: forwards;">
            <div class="space-y-1">
                <h2 class="text-2xl font-medium">{{ i18n "RECENT_POSTS" }}</h2>
                <p class="text-sm text-muted-foreground/70">{{ i18n "RECENT_POSTS_DESCRIPTION" }}</p>
            </div>
            <a href="/posts" class="hidden sm:inline-flex items-center gap-2 px-4 py-2 text-sm
                    border border-border/40 dark:border-border-dark/40 rounded-lg
                    hover:bg-accent/40 dark:hover:bg-accent-dark/40
                    hover:border-border/60 dark:hover:border-border-dark/60
                    transition-all duration-300">
                <span>查看全部</span>
                <div class="i-carbon-arrow-right w-4 h-4"></div>
            </a>
        </div>

        <!-- 文章网格 -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {{ $posts := where .Site.RegularPages "Section" "posts" }}
            {{ $featuredPosts := where $posts "Params.featured" true }}
            {{ $recentPosts := $posts | first 6 }}
            {{ $displayPosts := union $featuredPosts $recentPosts | first 6 }}

            {{ range $index, $post := $displayPosts }}
            <article class="plain-link group relative rounded-2xl border border-border/40 
                bg-card/50 dark:bg-card-dark/50 backdrop-blur transition-all duration-500 
                hover:border-border/60 dark:hover:border-border-dark/60 
                hover:shadow-lg hover:shadow-accent/5 dark:hover:shadow-accent-dark/5 
                hover:bg-card/80 dark:hover:bg-card-dark/80
                hover:translate-y-[-2px]
                animate-fade-up opacity-0"
                style="animation-delay: {{ add 1.2 (mul $index 0.1) }}s; animation-fill-mode: forwards;">

                <!-- 文章封面 -->
                <div class="aspect-[2/1] rounded-t-2xl overflow-hidden">
                    {{ with $post.Params.featuredImage }}
                    <img src="{{ . }}" alt="{{ $post.Title }}"
                        class="w-full h-full object-cover transition duration-500 group-hover:scale-[1.02]"
                        loading="lazy">
                    {{ else }}
                    <div class="w-full h-full bg-gradient-to-br from-primary/5 to-accent/5 
                        dark:from-primary/10 dark:to-accent/10"></div>
                    {{ end }}
                </div>

                <!-- 文章信息 -->
                <div class="p-6 flex flex-col gap-4">
                    <!-- 标题和描述 -->
                    <div class="space-y-2">
                        <h3 class="text-lg font-medium">
                            <a href="{{ $post.RelPermalink }}"
                                class="hover:text-primary transition-colors line-clamp-1">
                                {{ $post.Title }}
                            </a>
                        </h3>
                        <p class="text-muted-foreground/70 text-sm leading-relaxed line-clamp-2">
                            {{ $post.Description }}
                        </p>
                    </div>

                    <!-- 元信息：分为两行 -->
                    <div class="flex flex-col gap-3 mt-auto">
                        <!-- 第一行：日期和阅读时间 -->
                        <div class="flex items-center gap-4 text-xs text-muted-foreground/60">
                            <time class="tabular-nums">{{ $post.Date.Format "2006-01-02" }}</time>

                            <span class="inline-flex items-center gap-1">
                                <div class="i-carbon-time w-3.5 h-3.5 opacity-60"></div>
                                <span class="tabular-nums">{{ $post.ReadingTime }} min read</span>
                            </span>

                            <!-- 置顶标记 -->
                            {{ if $post.Params.featured }}
                            <span class="inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full 
                                bg-none text-primary/80">
                                <div class="i-carbon-star-filled w-3 h-3"></div>
                                <span>置顶</span>
                            </span>
                            {{ end }}
                        </div>

                        <!-- 第二行：标签 -->
                        {{ with $post.Params.tags }}
                        <div class="flex items-center gap-1.5 text-xs">
                            <div class="i-carbon-tag w-3.5 h-3.5 opacity-60"></div>
                            <div class="flex items-center flex-wrap gap-x-1">
                                {{ range $index, $tag := . }}
                                {{ if gt $index 0 }}
                                <span class="opacity-40">·</span>
                                {{ end }}
                                <a href="/tags/{{ . | urlize }}" class="hover:text-primary transition-colors">
                                    {{ . }}
                                </a>
                                {{ end }}
                            </div>
                        </div>
                        {{ end }}
                    </div>
                </div>

                <a href="{{ $post.RelPermalink }}" class="absolute inset-0" aria-label="阅读文章"></a>
            </article>
            {{ end }}
        </div>

        <!-- 移动端查看全部按钮 -->
        <div class="mt-8 sm:hidden flex justify-center animate-fade-up opacity-0"
            style="animation-delay: 1.8s; animation-fill-mode: forwards;">
            <a href="/posts" class="inline-flex items-center gap-2 px-4 py-2 text-sm
                    border border-border/40 dark:border-border-dark/40 rounded-lg
                    hover:bg-accent/40 dark:hover:bg-accent-dark/40
                    hover:border-border/60 dark:hover:border-border-dark/60
                    transition-all duration-300">
                <span>查看全部</span>
                <div class="i-carbon-arrow-right w-4 h-4"></div>
            </a>
        </div>
    </div>
</section>